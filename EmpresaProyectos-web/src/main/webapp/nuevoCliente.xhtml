<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">

        <h:body onload="#{empleadoBean.nuevo()}">
            <ui:composition template="/plantillas/templateNoLoged.xhtml">

                <ui:define name="contenido">
                    <div class="padding">

                        <div> <h2> Registro como nuevo cliente de SAIV </h2> </div>
                        <p:panelGrid  columns="3" columnClasses="label,value" rendered="#{empleadoBean.enRegistro eq false}">
                            <p:outputLabel for="nombre" value="Nombre:" />
                            <p:inputText id="nombre" value="#{empleadoBean.empleado.nombre}"  requiredMessage="Ingrese el nombre"
                                         required="true" label="nombre" >
                            </p:inputText>
                            <p:messages id="messageNombre" showDetail="true" showSummary="true"/>
                            
                            <p:outputLabel for="cargo" value="Cargo:" />
                            <p:selectOneMenu id="cargo" value="#{empleadoBean.empleado.codigoCargo}" style="width:125px" requiredMessage="Seleccione una empresa  "
                                         required="true" label="tipo">
                                <f:selectItems value="#{empresaBean.empresas}" var="empresa" itemLabel="#{empresa.nombre}" itemValue="#{empresa.codigo}" />


                            </p:selectOneMenu>
                           
                        </p:panelGrid>
                        
                        <p:spacer height="50px"/>
                        <p:commandButton value="Guardar" actionListener="#{empleadoBean.resgistroCliente()}" rendered="#{empleadoBean.enRegistro eq false}" immediate="false" update="@form"/>
                        <p:commandButton value="Cancelar" rendered="#{empleadoBean.enRegistro eq false}" immediate="true" update="@form" action="index.xhtml?faces-redirect=true" />
                        
                        <p:panelGrid  columns="1" columnClasses="label,value" rendered="#{empleadoBean.enRegistro eq true}">
                            <p:outputLabel value="CLiente se ha registrado correctamente" />
                            <p:outputLabel value="Por favor revise su correo para instrucciones posteriores" />
                        </p:panelGrid>
                              
                        <p:spacer height="50px"/>
                        <p:commandButton value="Continuar" rendered="#{empleadoBean.enRegistro eq true}" update="@form" action="index.xhtml?faces-redirect=true" />
                        
                    </div>

                </ui:define>        
            </ui:composition>

        </h:body>       
    </f:view>


</html>
